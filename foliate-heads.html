<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Blodeuwedd + the Foliate Heads</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-face-aframe.prod.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const list = ["lichen", "wood", "moss", "flower"];
        const visibles = [true, false, false, false];
        const setVisible = (button, entities, visible) => {
          if (visible) {
            button.classList.add("selected");
          } else {
            button.classList.remove("selected");
          }
          entities.forEach((entity) => {
            entity.setAttribute("visible", visible);
          });
        };
        list.forEach((item, index) => {
          const button = document.querySelector("#" + item);
          const entities = document.querySelectorAll("." + item + "-entity");
          setVisible(button, entities, visibles[index]);
          button.addEventListener("click", () => {
            visibles[index] = !visibles[index];
            setVisible(button, entities, visibles[index]);
          });
        });
      });
    </script>
    <link
      rel="stylesheet"
      href="foliate-heads.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inconsolata&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Jost:wght@600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
<div class="placename"><a href="https://sunny-loving-forest.glitch.me"><img src="https://cdn.glitch.com/7bdc0786-c538-4689-b98e-871011718896/fieldnotes2.png" height="30"></a>
  <br />Foliate Heads</div>
    <div class="options-panel">
      <img
        id="lichen"
        src="https://cdn.glitch.com/7bdc0786-c538-4689-b98e-871011718896/lichen-thumb.png"
      />
      <img
        id="wood"
        src="https://cdn.glitch.com/7bdc0786-c538-4689-b98e-871011718896/wood-thumb.png"
      />
      <img
        id="moss"
        src="https://cdn.glitch.com/7bdc0786-c538-4689-b98e-871011718896/moss-thumb.png"
      />
      <img
      id="flower"
      src="https://cdn.glitch.com/7bdc0786-c538-4689-b98e-871011718896/flower-thumb.png"
    />
    </div>
    <div class="container">
      <a-scene
        mindar-face
        embedded
        color-space="sRGB"
        renderer="colorManagement: true, physicallyCorrectLights"
        vr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false"
      >
        <a-assets>
          <img
            id="lichenMask"
            src="https://cdn.glitch.com/7bdc0786-c538-4689-b98e-871011718896/lichen-mask.png"
          />
          <img
            id="woodMask"
            src="https://cdn.glitch.com/7bdc0786-c538-4689-b98e-871011718896/wood-mask.png"
          />
          <img
            id="mossMask"
            src="https://cdn.glitch.com/7bdc0786-c538-4689-b98e-871011718896/moss-mask.png"
          />
          <img
          id="flowerMask"
          src="https://cdn.glitch.com/7bdc0786-c538-4689-b98e-871011718896/flower-mask.png"
        />
        </a-assets>
        <a-camera active="false" position="0 0 0"></a-camera>
        <a-entity mindar-face-target="anchorIndex: 197">
          <a-image
            src="#lichenMask"
            width="1.7"
            height="1.15"
            position="0 0.27 0"
            class="lichen-entity"
            visible="false"
          ></a-image>
        </a-entity>
        <a-entity mindar-face-target="anchorIndex: 197">
          <a-image
            src="#woodMask"
            width="2"
            height="2"
            position="0 0 0.01"
            class="wood-entity"
            visible="false"
          ></a-image>
        </a-entity>
        <a-entity mindar-face-target="anchorIndex: 197">
          <a-image
            src="#mossMask"
            width="1.7"
            height="1.7"
            position="0 0 0.02"
            class="moss-entity"
            visible="false"
          ></a-image>
        </a-entity>
        <a-entity mindar-face-target="anchorIndex: 197">
            <a-image
              src="#flowerMask"
              width="1.7"
              height="1.7"
              position="0 0 0.02"
              class="flower-entity"
              visible="false"
            ></a-image>
          </a-entity>
      </a-scene>
    </div>
  </body>
</html>